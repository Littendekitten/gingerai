<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Train GingerAI</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    #chatBox { border: 1px solid #ccc; padding: 10px; width: 500px; height: 400px; overflow-y: auto; background: #f9f9f9; }
    input { width: 400px; padding: 5px; }
    button { width: 80px; padding: 5px; }
    p { margin: 5px 0; }
  </style>
</head>
<body>
  <h1>Chat met GingerAI</h1>
  <div id="chatBox"></div>
  <input id="userInput" type="text" placeholder="Typ hier..." onkeydown="if(event.key==='Enter'){sendMessage()}">
  <button onclick="sendMessage()">Verstuur</button>

  <script>
    const chatBox = document.getElementById("chatBox");

    // Mega dataset NL + EN
    const dataset = {
      nl: {
        greeting: [
          ["hallo","Hallo! Ik ben GingerAI!"],
          ["hoi","Hoi! Hoe gaat het?"],
          ["goedemorgen","Goedemorgen!"]
        ],
        status: [
          ["hoe gaat","Met mij gaat het goed! En met jou?"],
          ["alles chill","Ja hoor, alles chill!"]
        ],
        bye: [
          ["doei","Doei! Tot de volgende keer!"],
          ["tot ziens","Tot ziens!"]
        ],
        compliment: [
          ["leuk","Leuk dat je dat zegt!"],
          ["goed gedaan","Dankjewel!"]
        ],
        weather: [
          ["weer","Het weer is altijd mooi in de virtuele wereld!"]
        ],
        food: [
          ["pizza","Pizza is heerlijk!"],
          ["eten","Ik hou van virtueel eten."]
        ],
        games: [
          ["minecraft","Minecraft is super leuk!"],
          ["roblox","Roblox heeft zoveel mogelijkheden!"]
        ],
        school: [
          ["school","School kan soms saai zijn, maar leren is belangrijk!"],
          ["huiswerk","Huiswerk kan lastig zijn, maar het helpt je groeien."]
        ]
      },
      en: {
        greeting: [
          ["hi","Hi! I’m GingerAI!"],
          ["hello","Hello there!"],
          ["good morning","Good morning!"]
        ],
        status: [
          ["how are you","I’m doing great! How about you?"],
          ["what’s up","Not much, just chatting with you!"]
        ],
        bye: [
          ["bye","Bye! See you later!"],
          ["good night","Good night! Sweet dreams!"]
        ],
        compliment: [
          ["nice","Nice of you to say!"],
          ["good job","Thank you very much!"]
        ],
        weather: [
          ["weather","The weather is always nice in the virtual world!"]
        ],
        food: [
          ["pizza","Pizza is delicious!"],
          ["food","I love talking about food."]
        ],
        games: [
          ["minecraft","Minecraft is awesome!"],
          ["roblox","Roblox is full of creativity!"]
        ],
        school: [
          ["school","School is important, even if it’s boring sometimes."],
          ["homework","Homework can be hard, but it helps you learn."]
        ]
      }
    };

    // Detecteer taal van de input
    function detectLanguage(text) {
      const lower = text.toLowerCase();
      // simpele heuristiek
      if(lower.match(/[äöüß]/) || lower.includes("hoe") || lower.includes("dag") || lower.includes("huiswerk")) {
        return "nl";
      }
      if(lower.includes("how") || lower.includes("hello") || lower.includes("bye") || lower.includes("homework")) {
        return "en";
      }
      // fallback: kies NL als default
      return "nl";
    }

    function generateReply(msg) {
      const lang = detectLanguage(msg);
      const lower = msg.toLowerCase();
      const categories = dataset[lang];
      
      for(const cat in categories){
        for(const [trigger, response] of categories[cat]){
          if(lower.includes(trigger)) return response;
        }
      }
      return lang === "nl" 
        ? "Sorry, dat begrijp ik nog niet helemaal." 
        : "Sorry, I don’t quite understand that yet.";
    }

    function sendMessage() {
      const userInput = document.getElementById("userInput");
      const text = userInput.value.trim();
      if(!text) return;

      addMessage("Jij", text);

      const reply = generateReply(text);
      chatBox.scrollTop = chatBox.scrollHeight;

      setTimeout(() => {
        addMessage("GingerAI", reply);
        chatBox.scrollTop = chatBox.scrollHeight;
      }, 300);

      userInput.value = "";
    }

    function addMessage(sender, text) {
      const p = document.createElement("p");
      p.innerHTML = `<b>${sender}:</b> ${text}`;
      chatBox.appendChild(p);
    }
  </script>
</body>
</html>
